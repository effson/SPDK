
```bash
gcc -fPIC -shared -o syscall.so syscall.c
vim /etc/init.d/mysql
ls /usr/sbin/mysqld
/etc/init.d/mysql restart


/etc/init.d/mysql stop
LD_PRELOAD=/home/jeff/SPDK/syscall.so /etc/init.d/mysql start

/usr/sbin/mysqld --skip-grant-tables --skip-networking --user=root
```

```bash
git clone https://github.com/spdk/spdk
cd spdk
git submodule update --init

./scripts/pkgdep.sh
./configure
make
```

```bash
root@worker02:/home/jeff/SPDK/spdk# lsblk -f
NAME                      FSTYPE      FSVER    LABEL UUID                                   FSAVAIL FSUSE% MOUNTPOINTS
sda
├─sda1
├─sda2                    ext4        1.0            ac657f13-80d6-4eac-a703-479f6858a0d4      1.4G    19% /boot
└─sda3                    LVM2_member LVM2 001       6AxdHL-Th8Y-zWqp-uv9Z-1YDi-AN6c-bZE2Or
  └─ubuntu--vg-ubuntu--lv ext4        1.0            ec61712b-2058-4096-aae2-5834f212585a       12G    74% /
sr0
nvme0n1                   xfs                        3d91a9b2-d64f-4db3-b2cf-5c0cfc8d67df
```
```bash
root@worker02:/home/jeff/SPDK/spdk# readlink /sys/bus/pci/devices/0000:03:00.0/driver
../../../../bus/pci/drivers/nvme
```
```bash
root@worker02:/home/jeff/SPDK/spdk# echo 0000:03:00.0 | sudo tee /sys/bus/pci/devices/0000:03:00.0/driver/unbind
0000:03:00.0
root@worker02:/home/jeff/SPDK/spdk# sudo ./scripts/setup.sh
0000:03:00.0 (15ad 07f0): no driver -> uio_pci_generic
INFO: Requested 1024 hugepages but 1024 already allocated
root@worker02:/home/jeff/SPDK/spdk#
```

```bash
root@worker02:/home/jeff/SPDK/spdk# sudo ./scripts/setup.sh status
Hugepages
node     hugesize     free /  total
node0   1048576kB        0 /      0
node0      2048kB     1024 /   1024

Type                      BDF             Vendor Device NUMA    Driver           Device     Block devices
NVMe                      0000:03:00.0    15ad   07f0   unknown uio_pci_generic  -          -
```

<img width="1124" height="241" alt="image" src="https://github.com/user-attachments/assets/b9cd2446-25bb-4e18-acb3-954f7036c29a" />

